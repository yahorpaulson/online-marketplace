<div class="vehicle-type-selector">
  <h2>Select a Vehicle Type</h2>
  <div class="type-buttons">
    <button *ngFor="let type of ['Car', 'Truck', 'Motorcycle', 'Caravan']"
            (click)="selectVehicleType(type)" 
            [class.active]="currentVehicleType === type">
      {{ type }}
    </button>
  </div>
</div>

<div class="filter-container">
  <h2>Filter Vehicles</h2>
  <form (ngSubmit)="applyFilters()" class="filter-form">
    <label>
      Search:
      <input 
        type="text" 
        [(ngModel)]="filters.searchTerm" 
        name="searchTerm" 
        placeholder="Enter keywords (name, description)"
      />
    </label>
    <label>
      Brand:
      <input 
        type="text" 
        [(ngModel)]="filters.brand" 
        name="brand" 
        placeholder="Enter brand" 
      />
    </label>
    <label>
      Model:
      <input 
        type="text" 
        [(ngModel)]="filters.model" 
        name="model" 
        placeholder="Enter model" 
      />
    </label>
    <label>
      Max Price (€):
      <input 
        type="number" 
        [(ngModel)]="filters.maxPrice" 
        name="maxPrice" 
        placeholder="Enter max price" 
      />
    </label>
    <label>
      Max Mileage (km):
      <input 
        type="number" 
        [(ngModel)]="filters.maxMileage" 
        name="maxMileage" 
        placeholder="Enter max mileage" 
      />
    </label>
    <label>
      Min Year:
      <input 
        type="number" 
        [(ngModel)]="filters.minYear" 
        name="minYear" 
        placeholder="Enter min year" 
      />
    </label>
    <button type="submit" class="filter-button">Apply Filters</button>
  </form>
</div>

<div *ngIf="filteredVehicles.length > 0" class="vehicle-row">
  <div *ngFor="let vehicle of filteredVehicles" class="vehicle-card">
    <img [src]="vehicle.image[0]" alt="{{ vehicle.model }}" class="vehicle-image" />
    <div class="vehicle-info">
      <h3>{{ vehicle.name }}</h3>
      <p><span>{{ vehicle.firstRegistration | date:'yyyy'}}, {{ vehicle.mileage }} km, {{ vehicle.power }} PS</span></p>
      <p class="price">€{{ vehicle.price }}</p>
    </div>
  </div>
</div>

<div *ngIf="filteredVehicles.length === 0 && currentVehicleType" class="no-results">
  <p>No vehicles found for {{ currentVehicleType }} with the selected filters.</p>
</div>
